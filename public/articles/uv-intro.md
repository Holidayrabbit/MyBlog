---
title: "å†è§conda - - uvå¿«é€Ÿä½¿ç”¨æ•™ç¨‹"
date: "2025-09-28"
tags: ["Python", "uv", "ç¯å¢ƒç®¡ç†"]
excerpt: "ä»ä¸€ä¸ªæœºå™¨å­¦ä¹ é¡¹ç›®å…¥æ‰‹ï¼Œå¦‚ä½•ä»é›¶å¼€å§‹ä½¿ç”¨ uv"
---

# å†è§conda - - uvå¿«é€Ÿä½¿ç”¨æ•™ç¨‹

éšç€ Python ç”Ÿæ€çš„ä¸æ–­å‘å±•ï¼Œè™šæ‹Ÿç¯å¢ƒç®¡ç†å·¥å…·ä¹Ÿåœ¨æ¨é™ˆå‡ºæ–°ã€‚`conda` æ›¾ç»æ˜¯æ•°æ®ç§‘å­¦é¢†åŸŸçš„æ ‡é…ï¼Œä½†æ–°å…´çš„ `uv` å·¥å…·å‡­å€Ÿå…¶é€Ÿåº¦å’Œç®€æ´æ€§é€æ¸å´­éœ²å¤´è§’ã€‚æœ¬æ–‡å°†å¸¦ä½ äº†è§£ `uv` ä¸ `conda` çš„æ ¸å¿ƒåŒºåˆ«ï¼Œå¹¶é€šè¿‡ä¸€ä¸ªæœºå™¨å­¦ä¹ é¡¹ç›®çš„ç¯å¢ƒç®¡ç†æ¡ˆä¾‹ï¼Œè¯¦ç»†è®²è§£å¦‚ä½•ä»é›¶å¼€å§‹ä½¿ç”¨ `uv`ã€‚

## ä¸€ã€uv å’Œ conda ç®¡ç† Python ç¯å¢ƒçš„ä¸»è¦åŒºåˆ«

### 1. æ€§èƒ½ä¸å®ç°

- **uv**ï¼šç”± Rust ç¼–å†™ï¼Œåˆ›å»ºç¯å¢ƒå’Œè§£æä¾èµ–é€Ÿåº¦æå¿«ï¼ŒåŸºäº Python å†…ç½®çš„ `venv` æ¨¡å—ï¼Œè½»é‡é«˜æ•ˆã€‚
- **conda**ï¼šç”± Python ç¼–å†™ï¼Œæ€§èƒ½è¾ƒæ…¢ï¼Œç¯å¢ƒåˆ›å»ºæ—¶ä¼šå®‰è£…ç‹¬ç«‹çš„ Python è§£é‡Šå™¨ï¼Œèµ„æºå ç”¨è¾ƒé«˜ã€‚

**é‡ç‚¹**ï¼š`uv` è¿½æ±‚é€Ÿåº¦å’Œè½»é‡ï¼Œ`conda` æ›´æ³¨é‡å®Œæ•´æ€§å’Œéš”ç¦»ã€‚

### 2. ä¾èµ–ç®¡ç†

- **uv**ï¼šä¸“æ³¨äº Python åŒ…ç®¡ç†ï¼Œæ”¯æŒ `pip` ç”Ÿæ€ï¼ˆPyPIï¼‰ï¼Œè§£æä¾èµ–å¿«ï¼Œä½†ä¸æ”¯æŒé Python åŒ…ã€‚
- **conda**ï¼šè·¨è¯­è¨€åŒ…ç®¡ç†ï¼Œæ”¯æŒ Anaconda å’Œ conda-forge ä»“åº“ï¼Œèƒ½å¤„ç†åº•å±‚ä¾èµ–ï¼ˆå¦‚ MKL ä¼˜åŒ–çš„ NumPyï¼‰ã€‚

**é‡ç‚¹**ï¼š`uv` ç®€å•é«˜æ•ˆï¼Œ`conda` åŠŸèƒ½å…¨é¢ã€‚

### 3. ç¯å¢ƒåˆ›å»º

- **uv**ï¼šä¾èµ–ç³»ç»Ÿ Pythonï¼Œåˆ›å»ºè½»é‡çº§è™šæ‹Ÿç¯å¢ƒï¼ˆ`uv venv`ï¼‰ï¼Œå ç”¨ç©ºé—´å°ã€‚
- **conda**ï¼šåˆ›å»ºç‹¬ç«‹ç¯å¢ƒï¼ˆ`conda create`ï¼‰ï¼Œè‡ªå¸¦ Python è§£é‡Šå™¨ï¼Œéš”ç¦»æ€§å¼ºä½†è¾ƒé‡ã€‚

**é‡ç‚¹**ï¼š`uv` é€‚åˆå¿«é€Ÿå¼€å‘ï¼Œ`conda` é€‚åˆå¤æ‚éš”ç¦»åœºæ™¯ã€‚

### 4. ä½¿ç”¨åœºæ™¯

- **uv**ï¼šçº¯ Python é¡¹ç›®ï¼Œå°¤å…¶æ˜¯éœ€è¦å¿«é€Ÿè¿­ä»£çš„å¼€å‘ã€‚
- **conda**ï¼šæ•°æ®ç§‘å­¦ã€æœºå™¨å­¦ä¹ ï¼Œéœ€ç®¡ç†å¤æ‚ä¾èµ–æˆ–è·¨å¹³å°ä¸€è‡´æ€§ã€‚

**æ€»ç»“**ï¼š`uv` æ˜¯è½»é‡çº§æ–°æ˜Ÿï¼Œ`conda` æ˜¯å…¨èƒ½è€å°†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæœºå™¨å­¦ä¹ é¡¹ç›®ï¼Œå®è·µ `uv` çš„ç”¨æ³•ã€‚

---

## äºŒã€uv cheetsheet

### **1.å®‰è£…**

```bash
# On Linux.
curl -LsSf https://astral.sh/uv/install.sh | sh

# On macOS
brew install uv

# On Windows.
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"

# With pip.
pip install uv
```

### 2.å¸¸ç”¨å‘½ä»¤åˆ—è¡¨

| **å‘½ä»¤** | **æè¿°** |
| --- | --- |
| run | è¿è¡Œå‘½ä»¤æˆ–è„šæœ¬ |
| init | åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›® |
| add | å‘é¡¹ç›®ä¸­æ·»åŠ ä¾èµ–é¡¹ |
| remove | ä»é¡¹ç›®ä¸­ç§»é™¤ä¾èµ–é¡¹ |
| sync | æ›´æ–°é¡¹ç›®çš„ç¯å¢ƒ |
| lock | æ›´æ–°é¡¹ç›®çš„é”å®šæ–‡ä»¶ |
| export | å°†é¡¹ç›®çš„é”å®šæ–‡ä»¶å¯¼å‡ºä¸ºå…¶ä»–æ ¼å¼ |
| tree | æ˜¾ç¤ºé¡¹ç›®çš„ä¾èµ–æ ‘ |
| tool | è¿è¡Œå’Œå®‰è£…ç”± Python åŒ…æä¾›çš„å‘½ä»¤ |
| python | ç®¡ç† Python ç‰ˆæœ¬å’Œå®‰è£… |
| pip | ä½¿ç”¨å…¼å®¹ pip çš„æ¥å£ç®¡ç† Python åŒ… |
| venv | åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ |
| build | å°† Python åŒ…æ„å»ºä¸ºæºä»£ç åˆ†å‘åŒ…å’Œ wheels |
| publish | å°†åˆ†å‘åŒ…ä¸Šä¼ åˆ°ç´¢å¼• |
| cache | ç®¡ç† uv çš„ç¼“å­˜ |
| self | ç®¡ç† uv å¯æ‰§è¡Œæ–‡ä»¶ |
| version | æ˜¾ç¤º uv çš„ç‰ˆæœ¬ |
| generate-shell-completion | ç”Ÿæˆ shell è‡ªåŠ¨è¡¥å…¨è„šæœ¬ |
| help | æ˜¾ç¤ºæŸä¸ªå‘½ä»¤çš„æ–‡æ¡£ |

### **3. æ–‡ä»¶ç»“æ„ ğŸ“‚**

é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ç”¨ `uv` åˆå§‹åŒ–ä¸€ä¸ªæ–°é¡¹ç›®ã€‚

æ‰§è¡Œå‘½ä»¤ï¼š`uv init test-uv`

è¿™ä¼šåˆ›å»ºä¸€ä¸ªåä¸º `test-uv` çš„é¡¹ç›®ï¼Œå…¶åŸºæœ¬ç»“æ„å¦‚ä¸‹ï¼š

```bash
test-uv
    â”œâ”€ .git
    â”œâ”€ .gitignore
    â”œâ”€ .python-version
    â”œâ”€ README.md
    â”œâ”€ main.py
    â””â”€ pyproject.toml
```

å¯ä»¥çœ‹åˆ°ï¼Œé™¤äº† Python ç›¸å…³çš„è„šæœ¬å’Œé…ç½®æ–‡ä»¶ï¼Œ`uv` è¿˜è´´å¿ƒåœ°ä¸ºæˆ‘ä»¬åˆå§‹åŒ–äº† `git` ç›¸å…³çš„æ–‡ä»¶ï¼Œæ–¹ä¾¿è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚

**`pyproject.toml`** (é¡¹ç›®é…ç½®æ–‡ä»¶ï¼Œç±»ä¼¼ JavaScript ä¸­çš„ `package.json`)ï¼š

```bash
[project]
name = "test-uv"
version = "0.1.0"
description = "Add your description here"
readme = "README.md"
requires-python = ">=3.9"  # æŒ‡å®šé¡¹ç›®ä¾èµ–çš„ Python ç‰ˆæœ¬
dependencies = []           # é¡¹ç›®çš„ç”Ÿäº§ä¾èµ–åˆ—è¡¨
```

**`.python-version`** (è®°å½•å½“å‰é¡¹ç›®ä½¿ç”¨çš„ Python ç‰ˆæœ¬)ï¼š`3.10`

ä½ å¯ä»¥æ ¹æ®éœ€è¦ç¼–è¾‘è¿™ä¸ªæ–‡ä»¶æ¥ä¿®æ”¹é¡¹ç›®æ‰€ç”¨çš„ Python ç‰ˆæœ¬ã€‚

### **4. è¿è¡Œè„šæœ¬ ğŸš€**

åœ¨ `uv` ä¸­ï¼Œæ‰§è¡Œè„šæœ¬çš„å‘½ä»¤éå¸¸ç®€æ´ï¼š

```bash
uv run <ä½ çš„è„šæœ¬æˆ–å‘½ä»¤>
```

è¿™æœ‰ç‚¹åƒ JavaScript ç”Ÿæ€ä¸­çš„ `npm run dev`ã€‚

`uv run` çš„æ‰§è¡Œé€»è¾‘ï¼š

1. **æ£€æŸ¥è™šæ‹Ÿç¯å¢ƒ**ï¼šæ£€æŸ¥å½“å‰ç›®å½•æ˜¯å¦å­˜åœ¨ `.venv` ç›®å½•ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œ`uv` ä¼šè‡ªåŠ¨ä¸ºä½ åˆ›å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿç¯å¢ƒã€‚
2. **ä¾èµ–éªŒè¯ä¸å®‰è£…**ï¼šéªŒè¯å½“å‰ç¯å¢ƒæ˜¯å¦åŒ…å«è„šæœ¬è¿è¡Œæ‰€éœ€çš„æ‰€æœ‰ä¾èµ–ã€‚å¦‚æœç¼ºå°‘ä¾èµ–ï¼Œ`uv` ä¼šè‡ªåŠ¨ä» `pyproject.toml` æˆ– `uv.lock` æ–‡ä»¶ä¸­è¯»å–å¹¶å®‰è£…å®ƒä»¬ã€‚
3. **éš”ç¦»æ‰§è¡Œ**ï¼šåœ¨å½“å‰é¡¹ç›®çš„è™šæ‹Ÿç¯å¢ƒä¸­æ‰§è¡Œå‘½ä»¤ï¼Œç¡®ä¿ä¸ä¼šä¸å…¶ä»–é¡¹ç›®çš„ Python ç¯å¢ƒäº§ç”Ÿå†²çªã€‚

**`uv run` vs. å¸¸è§„ Python å‘½ä»¤å¯¹æ¯”ï¼š**

### **5. ç®¡ç†ä¾èµ– ğŸ“¦**

### **5.1 `add` (æ·»åŠ ä¾èµ–)**

ç”¨äºå®‰è£…åŒ…ï¼Œå¹¶è‡ªåŠ¨æ›´æ–° `pyproject.toml` å’Œ `uv.lock` (å¦‚æœå­˜åœ¨)ã€‚

```bash
# å®‰è£…æœ€æ–°ç‰ˆæœ¬çš„åŒ…
uv add requests

# å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„åŒ… (ä¾‹å¦‚ Flask ç‰ˆæœ¬å¤§äºç­‰äº 2.0.0)
uv add "flask>=2.0.0"

# ä» Git ä»“åº“å®‰è£…
uv add git+https://github.com/psf/requests.git
```

å¯ä»¥æŠŠ `uv add` ç†è§£ä¸º `uv pip install` çš„å¢å¼ºç‰ˆã€‚å®ƒåº•å±‚ä¹Ÿåˆ©ç”¨äº† `pip` çš„èƒ½åŠ›ï¼Œä½†é¢å¤–å¢åŠ äº†è‡ªåŠ¨æ›´æ–°é¡¹ç›®é…ç½®æ–‡ä»¶çš„åŠŸèƒ½ã€‚

### **5.2 `remove` (ç§»é™¤ä¾èµ–)**

ç”¨äºå¸è½½åŒ…ï¼Œå¹¶è‡ªåŠ¨ä» `pyproject.toml` ä¸­ç§»é™¤å¯¹åº”çš„ä¾èµ–å£°æ˜ã€‚

```bash
uv remove requests
```

### **5.3 `sync` (åŒæ­¥ä¾èµ–)**

æ ¹æ®é”å®šæ–‡ä»¶ (`uv.lock`) æˆ– `pyproject.toml` æ¥ç²¾ç¡®å®‰è£…æˆ–æ›´æ–°ç¯å¢ƒä¸­çš„ä¾èµ–ï¼Œç¡®ä¿ç¯å¢ƒçš„ä¸€è‡´æ€§ã€‚

```bash
# åŒæ­¥æ‰€æœ‰ä¾èµ–ï¼ˆåŒ…æ‹¬å¼€å‘ä¾èµ–ï¼‰
uv sync

# ä»…åŒæ­¥ç”Ÿäº§ä¾èµ–
uv sync --production

# åŒæ­¥ä¾èµ–ï¼Œå¹¶æ¸…ç†æ‰é”å®šæ–‡ä»¶ä¸­ä¸å­˜åœ¨çš„å¤šä½™åŒ…
uv sync --clean
```

### **5.4 `lock` (é”å®šä¾èµ–)**

åˆ›å»ºæˆ–æ›´æ–° `uv.lock` æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶ä¼šè®°å½•æ‰€æœ‰ç›´æ¥å’Œé—´æ¥ä¾èµ–çš„ç²¾ç¡®ç‰ˆæœ¬ï¼Œç¡®ä¿åœ¨ä¸åŒç¯å¢ƒã€ä¸åŒæ—¶é—´éƒ½èƒ½å®‰è£…å®Œå…¨ç›¸åŒçš„ä¾èµ–ç‰ˆæœ¬ï¼Œå®ç°å¯å¤ç°çš„æ„å»ºã€‚

```bash
# ç”Ÿæˆæ–°çš„é”å®šæ–‡ä»¶æˆ–æ›´æ–°ç°æœ‰é”å®šæ–‡ä»¶
uv lock

# æ£€æŸ¥æ˜¯å¦æœ‰å¯æ›´æ–°çš„åŒ…ï¼Œä½†å¹¶ä¸å®é™…å†™å…¥é”å®šæ–‡ä»¶ (dry-run)
uv lock --check

# å¼ºåˆ¶é‡æ–°è§£ææ‰€æœ‰ä¾èµ–å…³ç³»å¹¶æ›´æ–°é”å®šæ–‡ä»¶
uv lock --update
```

### **5.5 `tree` (å¯è§†åŒ–ä¾èµ–æ ‘)**

ç”¨äºæ¸…æ™°åœ°å±•ç¤ºé¡¹ç›®çš„ä¾èµ–å…³ç³»ã€‚

```bash
# æ˜¾ç¤ºå®Œæ•´çš„ä¾èµ–æ ‘
uv tree

# ä»…æ˜¾ç¤ºæŒ‡å®šåŒ… (å¦‚ flask) çš„ä¾èµ–è·¯å¾„
uv tree flask

# åå‘è¿½æº¯ä¾èµ–ï¼šæŸ¥çœ‹å“ªäº›åŒ…ä¾èµ–äº† sqlalchemy
uv tree --reverse sqlalchemy

# å°†ä¾èµ–æ ‘è¾“å‡ºä¸º JSON æ ¼å¼
uv tree --format json
```

---

### **6. ç®¡ç† Python ç¯å¢ƒ ğŸ**

`uv` è¿˜èƒ½å¸®åŠ©ä½ ç®¡ç†ç³»ç»Ÿä¸­çš„ Python å®‰è£…ç‰ˆæœ¬ã€‚

åŸºæœ¬å‘½ä»¤æ ¼å¼ï¼š

```bash
uv python [OPTIONS] <COMMAND>
```

å¸¸ç”¨å­å‘½ä»¤ï¼š

| **å‘½ä»¤** | **æè¿°** |
| --- | --- |
| `list` | åˆ—å‡º `uv` å¯å‘ç°å’Œå¯ä¸‹è½½çš„ Python å®‰è£…ç‰ˆæœ¬ |
| `install` | ä¸‹è½½å¹¶å®‰è£…ä¸€ä¸ªæŒ‡å®šçš„ Python ç‰ˆæœ¬ |
| `find` | æ˜¾ç¤ºå½“å‰é…ç½®çš„ Python å®‰è£…çš„å…·ä½“ä½ç½® |
| `pin` | å°†å½“å‰é¡¹ç›®å›ºå®šä½¿ç”¨ç‰¹å®šçš„ Python ç‰ˆæœ¬ |
| `dir` | æ˜¾ç¤º `uv` ç”¨æ¥å­˜æ”¾å…¶ä¸‹è½½çš„ Python ç‰ˆæœ¬çš„ç›®å½• |
| `uninstall` | å¸è½½ä¸€ä¸ªç”± `uv` å®‰è£…çš„ Python ç‰ˆæœ¬ |

**ç¤ºä¾‹ï¼šåˆ—å‡ºå¯ç”¨çš„ Python ç‰ˆæœ¬**

```bash
uv python list
```

**ç¤ºä¾‹ï¼šå®‰è£… Python ç‰ˆæœ¬**

å°è¯•å®‰è£…ä¸€ä¸ª `uv python list` ä¸­æœªæ˜ç¡®åˆ—ä¸ºå¯ä¸‹è½½çš„ç‰ˆæœ¬ï¼Œæ¯”å¦‚ Python 3.6ï¼ˆå‡è®¾å®ƒåœ¨å½“å‰ `uv` ç‰ˆæœ¬ä¸­ä¸ç›´æ¥æ”¯æŒä¸‹è½½ï¼‰ï¼š

```bash
uv python install python3.6
```

å¯èƒ½ä¼šå¾—åˆ°é”™è¯¯ï¼š

`error: No download found for request: cpython-3.6-macos-aarch64-none`

è¿™æ˜¯å› ä¸º `uv` çš„å¯ä¸‹è½½åˆ—è¡¨ä¸­æ²¡æœ‰è¿™ä¸ªç‰¹å®šç‰ˆæœ¬å’Œæ¶æ„çš„ç»„åˆã€‚

ç°åœ¨å°è¯•å®‰è£…ä¸€ä¸ªåˆ—è¡¨ä¸­çš„å¯ç”¨ç‰ˆæœ¬ï¼Œæ¯”å¦‚ Python 3.8ï¼š

```bash
uv python install python3.8
```

### **7. æ™ºèƒ½è§£å†³**`requirements.txt`ä¸­çš„ä¾èµ–å†²çª

åˆ›å»ºä¸€ä¸ª`requirements.txt`ï¼Œå¡«å…¥ä»¥ä¸‹å†…å®¹

```bash
langchain**==**0.3.23
langchain-core**==**0.1.0
lxml**==**5.2.0
```

ä¼ ç»Ÿpipå®‰è£…ï¼š

```bash
pip install -r requirements.txt

```

ä½¿ç”¨uvè¿›è¡Œå®‰è£…ï¼š

```bash
uv pip install -r requirements.txt 
```

`pip`ä¼šæ ¹æ®æ–‡ä»¶ä¸­åˆ—å‡ºçš„é¡ºåºé€ä¸€ä¸‹è½½æ¨¡å—ï¼Œè‹¥é‡åˆ°ç‰ˆæœ¬å†²çªåˆ™ä¼šæŠ¥é”™ï¼Œä¸”ä¸ä¼šä¸€æ¬¡æ€§æ˜¾ç¤ºæ‰€æœ‰å†²çªã€‚ä¿®æ”¹åéœ€é‡æ–°å¼€å§‹ä¸‹è½½ï¼Œç›´åˆ°å†æ¬¡é‡åˆ°å†²çªï¼Œå¦‚æ­¤åå¤ï¼Œç›´åˆ°æ‰‹åŠ¨è§£å†³æ‰€æœ‰å†²çªä¸ºæ­¢ã€‚

ç›¸æ¯”ä¹‹ä¸‹ï¼Œ`uv`æ›´åŠ é«˜æ•ˆæ™ºèƒ½ï¼Œå®ƒä¸ä¼šç›´æ¥ä¸‹è½½æ‰€æœ‰æ¨¡å—ï¼Œè€Œæ˜¯å…ˆæ£€æŸ¥ä¾èµ–æ˜¯å¦å…¼å®¹ï¼Œå¹¶å°†æ‰€æœ‰ä¾èµ–å†²çªä¸€æ¬¡æ€§åˆ—å‡ºï¼Œä¾¿äºç”¨æˆ·ä¸€æ¬¡æ€§ä¿®æ”¹å¹¶è§£å†³é—®é¢˜ã€‚

## ä¸‰ã€uv ä½¿ç”¨æ¡ˆä¾‹ï¼šåŸºäºæœºå™¨å­¦ä¹ é¡¹ç›®ä»0åˆ°1

å‡è®¾æˆ‘ä»¬è¦å¼€å‘ä¸€ä¸ªç®€å•çš„æœºå™¨å­¦ä¹ é¡¹ç›®ï¼šç”¨ scikit-learn å®ç°ä¸€ä¸ªåˆ†ç±»å™¨ï¼Œå¹¶åœ¨ Jupyter Notebook ä¸­è¿è¡Œã€‚ä¸‹é¢å°†ä»ç¯å¢ƒåˆ›å»ºåˆ°ä¾èµ–ç®¡ç†ï¼Œé€æ­¥è®²è§£ `uv` çš„ä½¿ç”¨ç»†èŠ‚ã€‚

### 1. å®‰è£… uv

é¦–å…ˆå®‰è£… `uv`ï¼š

- **é€šè¿‡ pip å®‰è£…**ï¼š
    
    ```bash
    pip install uv
    
    ```
    
- **æ£€æŸ¥ç‰ˆæœ¬**ï¼š
è¾“å‡ºç±»ä¼¼ `uv 0.1.x`ï¼Œè¡¨ç¤ºå®‰è£…æˆåŠŸã€‚
    
    ```bash
    uv --version
    
    ```
    

### 2. åˆå§‹åŒ–é¡¹ç›®å¹¶åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

æ–°å»ºä¸€ä¸ªé¡¹ç›®æ–‡ä»¶å¤¹ï¼š

```bash
mkdir ml_project
cd ml_project

```

åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š

```bash
uv venv

```

è¿™ä¼šåœ¨å½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ª `.venv` æ–‡ä»¶å¤¹ã€‚å¦‚æœæƒ³æŒ‡å®š Python ç‰ˆæœ¬ï¼ˆéœ€ç³»ç»Ÿä¸­å·²å®‰è£…ï¼‰ï¼š

```bash
uv venv --python 3.11

```

æ¿€æ´»ç¯å¢ƒï¼š

- **Linux/MacOS**ï¼š
    
    ```bash
    source .venv/bin/activate
    
    ```
    
- **Windows**ï¼š
    
    ```bash
    .venv\\Scripts\\activate
    
    ```
    

æ¿€æ´»åï¼Œç»ˆç«¯æç¤ºç¬¦ä¼šå˜ä¸º `(.venv)`ï¼Œè¡¨ç¤ºå·²è¿›å…¥è™šæ‹Ÿç¯å¢ƒã€‚

### 3. é…ç½®é¡¹ç›®ä¾èµ–

**æ·»åŠ ä¾èµ–åˆ°é¡¹ç›®**ï¼š
å¯ä»¥ç”¨ `uv  add`æ·»åŠ ä¾èµ–ï¼Œæ¯”å¦‚ä¸‹é¢çš„numpyï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ›´æ–°æ–‡ä»¶`pyproject.toml`ï¼š

```jsx
uv add numpy
```

å¦å¤–è¿˜å¯ä»¥é€šè¿‡ å†™pyproject.tomlæ›´æ–°ä¾èµ–

æœºå™¨å­¦ä¹ é¡¹ç›®éœ€è¦ scikit-learnã€numpyã€pandas å’Œ Jupyter Notebookã€‚æˆ‘ä»¬ä½¿ç”¨ `pyproject.toml` ç®¡ç†ä¾èµ–ï¼ˆæ›´ç°ä»£åŒ–ï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨ `requirements.txt`ã€‚

åˆ›å»º `pyproject.toml`ï¼š

```bash
touch pyproject.toml

```

ç¼–è¾‘æ–‡ä»¶ï¼Œæ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

```toml
[project]
name = "ml_project"
version = "0.1.0"
dependencies = [
    "scikit-learn>=1.3.0",
    "numpy>=1.23.0",
    "pandas>=2.0.0",
    "jupyter>=1.0.0"
]

```

åŒæ­¥ä¾èµ–åˆ°è™šæ‹Ÿç¯å¢ƒï¼š

```bash
uv sync

```

è¿™ä¼šä» PyPI ä¸‹è½½å¹¶å®‰è£…æ‰€æœ‰ä¾èµ–ï¼Œé€Ÿåº¦æ¯” `pip install` å¿«å¾—å¤šã€‚æ£€æŸ¥å®‰è£…ï¼š

```bash
uv pip list

```

ä½ ä¼šçœ‹åˆ°åˆ—å‡ºçš„åŒ…åŠå…¶ç‰ˆæœ¬ã€‚

### 4. ç¼–å†™æœºå™¨å­¦ä¹ ä»£ç 

åˆ›å»ºä¸€ä¸ªç®€å•çš„åˆ†ç±»å™¨è„šæœ¬ `train.py`ï¼š

```bash
touch train.py
```

ç¼–è¾‘å†…å®¹ï¼š

```python
from sklearn.datasets import load_iris
from sklearn.model_selection import train_test_split
from sklearn.ensemble import RandomForestClassifier
from sklearn.metrics import accuracy_score

# åŠ è½½æ•°æ®
data = load_iris()
X, y = data.data, data.target

# åˆ’åˆ†æ•°æ®é›†
X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)

# è®­ç»ƒæ¨¡å‹
model = RandomForestClassifier(n_estimators=100)
model.fit(X_train, y_train)

# é¢„æµ‹å¹¶è¯„ä¼°
y_pred = model.predict(X_test)
print(f"Accuracy: {accuracy_score(y_test, y_pred):.2f}")

```

### 5. è¿è¡Œä»£ç 

æ— éœ€æ‰‹åŠ¨æ¿€æ´»ç¯å¢ƒï¼Œç›´æ¥ç”¨ `uv run`ï¼š

```bash
uv run python train.py
```

è¾“å‡ºç±»ä¼¼ `Accuracy: 0.97`ï¼Œè¡¨ç¤ºæ¨¡å‹è®­ç»ƒæˆåŠŸã€‚

### 6. ä½¿ç”¨ Jupyter Notebook

å¯åŠ¨ Notebookï¼š

```bash
uv run jupyter notebook

```

æµè§ˆå™¨ä¼šæ‰“å¼€ Jupyter ç•Œé¢ã€‚æ–°å»ºä¸€ä¸ª Notebookï¼Œè¾“å…¥ä»¥ä¸‹ä»£ç å¹¶è¿è¡Œï¼š

```python
import pandas as pd
import numpy as np
from sklearn.datasets import load_iris

data = load_iris()
df = pd.DataFrame(data.data, columns=data.feature_names)
print(df.head())

```

ä½ ä¼šçœ‹åˆ° Iris æ•°æ®é›†çš„å‰å‡ è¡Œï¼Œè¯´æ˜ç¯å¢ƒé…ç½®æ­£ç¡®ã€‚

### 7. æ›´æ–°ä¾èµ–

å¦‚æœéœ€è¦æ·»åŠ æ–°åŒ…ï¼ˆå¦‚ matplotlib ç»˜å›¾ï¼‰ï¼Œç›´æ¥è¿è¡Œï¼š

```bash
uv add matplotlib

```

è¿™ä¼šæ›´æ–° `pyproject.toml` å¹¶å®‰è£…åŒ…ã€‚å†æ¬¡åŒæ­¥ï¼š

```bash
uv sync

```

### 8. åˆ é™¤ç¯å¢ƒ

é¡¹ç›®å®Œæˆåï¼Œåˆ é™¤è™šæ‹Ÿç¯å¢ƒï¼š

```bash
rm -rf .venv

```

ç®€å•é«˜æ•ˆï¼Œæ— æ®‹ç•™ã€‚

---

## æ€»ç»“

ç›¸æ¯” `conda`ï¼Œ`uv` çš„ä¼˜åŠ¿åœ¨äºé€Ÿåº¦å¿«ã€å ç”¨å°ã€æ“ä½œç®€æ´ã€‚å¦‚æœä½ åŒå€¦äº† `conda` çš„ç¼“æ…¢å’Œè‡ƒè‚¿ï¼Œä¸å¦¨è¯•è¯• `uv`ï¼Œå®ƒå¯èƒ½æ˜¯ä½ æ–°çš„ç¯å¢ƒç®¡ç†åˆ©å™¨ï¼

æœ‰ä»»ä½•é—®é¢˜æˆ–æƒ³è¿ç§»ç°æœ‰é¡¹ç›®åˆ° `uv`ï¼Ÿæ¬¢è¿ç•™è¨€è®¨è®ºï¼

